---
interface Props {
  type?: "organization" | "localBusiness" | "faqPage" | "product";
  faqItems?: { question: string; answer: string }[];
}

const { type = "organization", faqItems = [] } = Astro.props;

const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "Organization",
  name: "LastMinute Rent-a-Car",
  url: "https://lastminute-rentacar.hr",
  logo: "https://lastminute-rentacar.hr/logo.png",
  description:
    "Your No1 rent a car in Croatia. Affordable car rentals with offices in Zagreb, Split, Dubrovnik, and more.",
  contactPoint: {
    "@type": "ContactPoint",
    telephone: "+385-1-234-5678",
    contactType: "customer service",
    availableLanguage: ["Croatian", "English", "German", "French"],
  },
  sameAs: [
    "https://www.facebook.com/lastminuterentacar",
    "https://www.instagram.com/lastminuterentacar",
    "https://twitter.com/lastminuterentacar",
  ],
};

const carRentalSchema = {
  "@context": "https://schema.org",
  "@type": "AutoRental",
  name: "LastMinute Rent-a-Car",
  url: "https://lastminute-rentacar.hr",
  logo: "https://lastminute-rentacar.hr/logo.png",
  description:
    "Premium car rental service in Croatia with locations at major airports and city centers.",
  priceRange: "$$",
  address: {
    "@type": "PostalAddress",
    streetAddress: "Ulica Grada Vukovara 271",
    addressLocality: "Zagreb",
    postalCode: "10000",
    addressCountry: "HR",
  },
  geo: {
    "@type": "GeoCoordinates",
    latitude: "45.8150",
    longitude: "15.9819",
  },
  telephone: "+385-1-234-5678",
  email: "info@lastminute-rentacar.hr",
  openingHoursSpecification: [
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      opens: "08:00",
      closes: "20:00",
    },
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: ["Saturday", "Sunday"],
      opens: "09:00",
      closes: "18:00",
    },
  ],
  areaServed: {
    "@type": "Country",
    name: "Croatia",
  },
  hasOfferCatalog: {
    "@type": "OfferCatalog",
    name: "Car Rental Services",
    itemListElement: [
      {
        "@type": "Offer",
        itemOffered: {
          "@type": "Service",
          name: "Economy Car Rental",
        },
      },
      {
        "@type": "Offer",
        itemOffered: {
          "@type": "Service",
          name: "Compact Car Rental",
        },
      },
      {
        "@type": "Offer",
        itemOffered: {
          "@type": "Service",
          name: "SUV Rental",
        },
      },
      {
        "@type": "Offer",
        itemOffered: {
          "@type": "Service",
          name: "Luxury Car Rental",
        },
      },
    ],
  },
};

const faqSchema =
  faqItems.length > 0
    ? {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        mainEntity: faqItems.map((item) => ({
          "@type": "Question",
          name: item.question,
          acceptedAnswer: {
            "@type": "Answer",
            text: item.answer,
          },
        })),
      }
    : null;

const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  name: "LastMinute Rent-a-Car",
  url: "https://lastminute-rentacar.hr",
  potentialAction: {
    "@type": "SearchAction",
    target: {
      "@type": "EntryPoint",
      urlTemplate: "https://lastminute-rentacar.hr/fleet?search={search_term_string}",
    },
    "query-input": "required name=search_term_string",
  },
};
---

<!-- Organization Schema -->
<script is:inline type="application/ld+json" set:html={JSON.stringify(organizationSchema)} />

<!-- Car Rental Business Schema -->
{type === "localBusiness" && (
  <script is:inline type="application/ld+json" set:html={JSON.stringify(carRentalSchema)} />
)}

<!-- FAQ Schema -->
{faqSchema && (
  <script is:inline type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
)}

<!-- Website Schema with Search Action -->
<script is:inline type="application/ld+json" set:html={JSON.stringify(websiteSchema)} />
